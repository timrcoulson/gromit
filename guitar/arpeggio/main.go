package arpeggio

import (
	"github.com/timrcoulson/gromit/guitar/template"
)

const Dom7Pos1Template = `
--------------------------1--5--1----------------------------
--------------------1--4-----------4--1----------------------
-----------------2-----------------------2-------------------
-----------1--3-----------------------------3--1-------------
-----0--3-----------------------------------------3--0-------
--1-----------------------------------------------------1----
`

const Dom7Pos2Template = `
--------------------------2---------------------------------
--------------------1--3-----3--1---------------------------
-----------------2-----------------2------------------------
-----------0--4-----------------------4--0------------------
-----0--3-----------------------------------3--0------------
--2-----------------------------------------------2---------
`

const Dom7Pos3Template = `
--------------------------0--3--0---------------------------
-----------------------1-----------1------------------------
-----------------0--3-----------------3--0------------------
--------------2-----------------------------2---------------
--------1--3-----------------------------------3--1---------
--0--3-----------------------------------------------3--0---
`

const Dom7Pos4Template = `
--------------------------0--3--0---------------------------
-----------------------1-----------1------------------------
-----------------0--3-----------------3--0------------------
--------------2-----------------------------2---------------
--------1--3-----------------------------------3--1---------
--0--3-----------------------------------------------3--0---
`

const Dom7Pos5Template = `
--------------------------1--3--1-----------------------------
--------------------0--3-----------3--0-----------------------
-----------------0-----------------------0--------------------
-----------0--3-----------------------------3--0--------------
--------2-----------------------------------------2-----------
--1--3-----------------------------------------------3--1-----
`


const Maj7Pos1Template = `
-----------------------0--1--0--------------------------
--------------------1-----------1-----------------------
-----------------2-----------------2--------------------
-----------2--3-----------------------3--2--------------
-----0--3-----------------------------------3--0--------
--1-----------------------------------------------1-----
`


const Maj7Pos2Template = `
--------------------------2-----------------------------
--------------------2--3-----3--2-----------------------
-----------------2-----------------2--------------------
-----------0--4-----------------------4--0--------------
-----0--4-----------------------------------4--0--------
--2-----------------------------------------------2-----
`

const Maj7Pos3Template = `
--------------------------0--3--0--------------------------
--------------------0--1-----------1--0--------------------
-----------------0-----------------------0-----------------
--------------2-----------------------------2--------------
--------2--3-----------------------------------3--2--------
--0--3-----------------------------------------------3--0--
`

const Maj7Pos4Template = `
--------------------------1--5--1--------------------------
-----------------------3-----------3----------------------
-----------------2--3-----------------3--2-----------------
-----------0--3-----------------------------3--0-----------
-----0--1-----------------------------------------1--0-----
--1-----------------------------------------------------1--
`


const Maj7Pos5Template = `
--------------------------2--3--2--------------------------
--------------------0--3-----------3--0--------------------
-----------------0-----------------------0-----------------
-----------0--4-----------------------------4--0-----------
--------2-----------------------------------------2--------
--2--3-----------------------------------------------3--2--
`



type ArpeggioPosition int

const (
	Dom7Pos1 ArpeggioPosition = iota
	Dom7Pos2
	Dom7Pos3
	Dom7Pos4
	Dom7Pos5
	Maj7Pos1
	Maj7Pos2
	Maj7Pos3
	Maj7Pos4
	Maj7Pos5
)

func (e ArpeggioPosition) String() string {
	switch e {
	case Dom7Pos1, Dom7Pos2, Dom7Pos3, Dom7Pos4, Dom7Pos5:
		return "Dominant 7"
	case Maj7Pos1, Maj7Pos2, Maj7Pos3, Maj7Pos4, Maj7Pos5:
		return "Major 7"
	default:
		return "Unknown"
	}
}


func Arpeggio(root int, mode ArpeggioPosition) string  {
	var arpeggioTemplate string
	switch mode {
	case Dom7Pos1:
		arpeggioTemplate = Dom7Pos1Template
	case Dom7Pos2:
		arpeggioTemplate = Dom7Pos2Template
	case Dom7Pos3:
		arpeggioTemplate = Dom7Pos3Template
	case Dom7Pos4:
		arpeggioTemplate = Dom7Pos4Template
	case Dom7Pos5:
		arpeggioTemplate = Dom7Pos5Template
	case Maj7Pos1:
		arpeggioTemplate = Maj7Pos1Template
	case Maj7Pos2:
		arpeggioTemplate = Maj7Pos2Template
	case Maj7Pos3:
		arpeggioTemplate = Maj7Pos3Template
	case Maj7Pos4:
		arpeggioTemplate = Maj7Pos4Template
	case Maj7Pos5:
		arpeggioTemplate = Maj7Pos5Template
	}

	return template.Print(root, arpeggioTemplate)
}
